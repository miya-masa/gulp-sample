Webpack
åŸºæœ¬çš„ã«ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

ä»Šç¾åœ¨
scriptã‚¿ã‚°ã‚¹ã‚¿ã‚¤ãƒ«
CommonJS(ä»•æ§˜)
AMDã‚¹ã‚¿ã‚¤ãƒ«(requirejsã¨ã‹ã­)
ES6 module (Ecmaã®6ãŒãªã‚“ã¨ç­–å®šã—ã¦ã„ã‚‹ã€‚ã„ãšã‚Œãƒ–ãƒ©ã‚¦ã‚¶ã«å®Ÿè£…ã•ã‚Œã‚‹ã‹ã‚‚ã€‚ã€‚ã€‚)

ãŒã‚ã‚‹ã€‚

ä¸€ç•ªå¤ãã‹ã‚‰ã‚ã‚‹scirptagã‚’åˆ—æŒ™ã—ã¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã ã¨ã„ã‚ã„ã‚å•é¡ŒãŒã€‚
ãƒ»ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¡çª
ãƒ»èª­ã¿è¾¼ã¿é †çµæ§‹å¤§äº‹
ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è§£æ±ºã¯é–‹ç™ºè€…ãŒã‚„ã‚‰ãªãã¡ã‚ƒã ã‚ã€‚ã€‚ã€‚
ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¤§ãããªã‚‹ã¨ç„¡ç†ã½ã‚ˆã€‚

ãã“ã§ã„ã‚ã„ã‚ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå‡ºæ¥ã¦ããŸã€‚
CommonJS

require("module");
require("../file.js");
exports.doStuff = function(){};
module.exports = someValue;

ãƒ¡ãƒªãƒƒãƒˆ
  ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå†åˆ©ç”¨ã§ãã‚‹
  ã“ã®æ›¸ãæ–¹ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã™ã§ã«ã„ã£ã±ã„ã‚ã‚‹(npm)
  ã‚·ãƒ³ãƒ—ãƒ«ã§ç°¡å˜
ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
  ãƒ–ãƒ­ãƒƒã‚¯å‘¼ã³å‡ºã—ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ…‹ãŒè‰¯ããªã„ã¨å‡ºæ¥ãªã„ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯éåŒæœŸ
  è¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä¸¦è¡Œå‘¼ã³å‡ºã—ã§ããªã„

  nodeã¨ã‹browserifyã¨ã‹modules-webmakeã¨ã‹wreqãŒã“ã‚Œã‚’å®Ÿè£…

AMD:asynchronous require
require(["module", "../file"], function(module, file) { /* ... */ });
define("mymodule", ["dep1", "dep2"], function(d1, d2) {
  return someExportedValue;
});
è¤‡é›‘ã ã‘ã©åŒæ™‚ã«èª­ã¿è¾¼ã‚“ã ã‚Šå‡ºæ¥ã‚‹ã€‚
require.jsã¨ã‹curlã¨ã‹ã„ã‚ã„ã‚

EC6ã§ã‚‚ã§ãã‚‹ãœã€‚
ç°¡å˜ã ã‘ã©ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¾å­˜ã‚ã‚‹ã—ã€ã“ã®ã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¡ã‚‡ã£ã¨ã—ã‹ãªã„

åˆ¶é™ãªã‘ã‚Œã°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã‚¹ã‚¿ã‚¤ãƒ«ä½¿ã£ãŸã»ã†ãŒè‰¯ã„ã‚ˆã€‚

é€šä¿¡
æ¥µç«¯ã«åˆ†ã‘ã‚‹ã¨äºŒç¨®é¡
ãƒ»ï¼‘ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‘ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
ãƒ»ï¼‘ãƒªã‚¯ã‚¨ã‚¹ãƒˆå…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
æœ€é©åŒ–ãŒå¿…è¦
ãã“ã§Webback

æ§˜ã€…ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹ã€‚
css,coffee,jade,css png,less,js....

======================================================-
jsã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†
åœ§ç¸®
cssã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†
coffee
jade 
ãã®ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
watch

æ–¹é‡ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚‚WebPackã¨ã‹Browserifyã¨ã‹ã§å‡ºæ¥ã‚‹ã‚‚ã®ã¯
ä¸Šã«ä¹—ã£ã‹ã‚‹ã‚‚ã®å„ªå…ˆ
ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ä¸Šã§WebPackã¨ã‹å‹•ã‹ã—ã¦è¶³ã‚Šãªã„æ©Ÿèƒ½ã‚’ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§è£œã†æ„Ÿã˜ãŒè‰¯ã„ã‹ãª

é–‹ç™ºæ±ç”¨ç³»(Gulpãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã¿)
  watch
  å³ãƒ–ãƒ©ã‚¦ã‚¶åæ˜ 
  ãã®é«˜é€ŸåŒ–
  jshint
  jsbeauify

============================================================
ç¾çŠ¶æ•´ç†

ä»Šã¾ã§ã¯scriptã‚¿ã‚°ã§å¥½ããªjsã‚’èª­ã¿è¾¼ã‚“ã§é©ç”¨ã€‚
å ´åˆã«ã‚ˆã£ã¦ã¯htmlã«åŸ‹ã‚è¾¼ã‚“ã˜ã‚ƒãˆã€‚

=> ã‚„ãŒã¦ã€javascriptã®é‡è¦æ€§ãŒèªçŸ¥ã•ã‚Œã€ãã‚Œã˜ã‚ƒåæ‹¾ãŒã¤ã‹ãšã€‚ã€‚ã€‚

â—ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ãŒã¶ã¤ã‹ã‚‹â€•ã€‚
â—jsãƒ•ã‚¡ã‚¤ãƒ«ãŒå·¨å¤§åŒ–ã—ã™ãã¦ã“ã‚Œèª­ã¿è¾¼ã‚€ã®ã‚­ãƒ„ã‚¤ã™ã€‚ã€‚ã€‚
â—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¿ã‚°å¤šã™ãã­ï¼Ÿ
â—é–‹ç™ºé¢å€’ãã•ã„ã€‚ã„ã¡ã„ã¡F5ãŠã•ãªã‚¢ã‚«ãƒ³ã®ï¼Ÿ
â—ãƒ–ãƒ©ã‚¦ã‚¶ã„ãã¤ã‚ã‚“ã ã‚ˆã€‚ã‚¹ãƒãƒ›ã£ã¦ãªã‚“ã ã‚ˆã€‚æŒã£ã¦ãªã„ã‚ˆã€‚ãã‚“ãªã«ã€‚
â—ã‚³ãƒ¼ãƒ‰æ±šã™ãã€‚ã‚‚ã£ã¨ã“ã†ã€ã‚ã‚‹ã ã‚ã†ã€‚
â—ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£ã«ã‚‚ç¨‹ãŒã‚ã‚‹ã€‚ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã§ãã­ãƒ¼ã‚ˆã€ã¡ãã—ã‚‡ã†ã€‚
â—ã‚‚ã†Javascriptã ã‚ã½ã€‚ã€‚ã€‚ã€‚æ­»ã«ãŸã„ã½ã‚ˆorz

ã“ã†ã„ã†å•é¡ŒãŒã‚ã£ã¦ã€ã„ã‚ã„ã‚ãªãƒ„ãƒ¼ãƒ«ãŒæ•´å‚™ã•ã‚Œã¦ã„ãã¾ã™ã€‚ã€‚ã€‚
ä¾‹ãˆã°ã€
  ãƒ–ãƒ©ã‚¦ã‚¶ã®å‡¦ç†ã®å·®ã‚’å¸åã—ã¾ã™ã‚ˆã€‚
  DOMæ“ä½œã¨ã‹éåŒæœŸé€šä¿¡ã¨ã‹ç°¡å˜ãªè¨˜è¿°ã§å®Ÿç¾ã§ãã¾ã™ã‚ˆãƒ¼ => jQuery

  JavaScriptã‚‚ãƒ“ãƒ«ãƒ‰ã™ã‚‹æ™‚ä»£ã€å·¨å¤§ãªjsãƒ•ã‚¡ã‚¤ãƒ«ã‚’åœ§ç¸®ãªã©ã€‚
  é–‹ç™ºãã®ã‚‚ã®ã‚’ç®¡ç†ã™ã‚‹åŸºç›¤=> gruntã€gulp

  JavaScriptã‚‚ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã—ã‚ˆã†ã‚ˆã€‚é©åˆ‡ã«åˆ†å‰²ã—ã¦ä¾å­˜é–¢ä¿‚ã‚‚æ˜ç¢ºã«ã—ã¦ã€
  ã‚‚ã£ã¨ã‚ã‹ã‚Šã‚„ã™ãç®¡ç†ã—ã‚ˆã† => requirejsã€browserifyã€webpack

  ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã ã‘ã˜ã‚ƒãªãJavaScriptå´ã®ãƒ†ã‚¹ãƒˆã‚‚ã¡ã‚ƒã‚“ã¨ã‚„ã‚ã†ãœï¼
  ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ => jasmineã€Qunitã€Mocha
  ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ => karmaã€JSTestDriver

  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚‚è¨­è¨ˆã‚’ã¡ã‚ƒã‚“ã¨è€ƒãˆã‚ˆã†ã‹ã€‚MVCãŒç°¡å˜ã«å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ã€
  ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç”¨æ„ã—ã‚ˆã† => Backbone.jsã€Angularjs

  æœ€è¿‘ãƒ“ãƒ¥ãƒ¼ã‚‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã‚ˆãã‚„ã‚‹ã‚ˆã­ã€‚
  ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã»ã—ã„ãª => Jadeã€EJS

  ãã®ä»–ã€é–‹ç™ºã«ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã‚’ã²ã¨é€šã‚Šç”¨æ„ã—ã‚ˆã†ã€‚
    ãƒ‡ãƒãƒƒã‚¬ => firebugsã€Chrome developerTools
    é™çš„ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ => jshint
    ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ => jsbeautify

  æ˜ç¢ºã«åŒºåˆ‡ã‚‹ã“ã¨ãŒå‡ºæ¥ãªã„ã‘ã©ã€ãŠãŠã¾ã‹ã«ã“ã‚“ãªæ„Ÿã˜

ä»Šå›ç´¹ä»‹ã™ã‚‹ã‚„ã¤ã€‚
  gruntã€gulpã€webpackã€browserify

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸(ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)ç®¡ç†ã¨ã¯ã€‚ã€‚ã€‚
  ã‚¤ãƒ¡ãƒ¼ã‚¸
    => ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ã«åˆ†ã‘ã¦ã€ã‚ã‹ã‚Šã‚„ã™ãã™ã‚‹ã€‚
    => è¨˜è¿°æ–¹æ³•çµ±ä¸€ã—ãªãã¡ã‚ƒ(CommonJSã€AMD)
    => è¨˜è¿°æ–¹æ³•çµ±ä¸€ã—ãŸã‘ã©ã€ã“ã‚Œã©ã†ã‚„ã£ã¦å‹•ã‹ã™ã‚ˆã†ã«ã™ã‚‹ã®
    => åƒ•ã‚‰ã«ä»»ã›ã‚(nodejs,RequireJSã€browserifyã€webpack)
    RequireJS ... èª­ã¿è¾¼ã¿æ™‚ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ¤åˆ¥(å¾“æ¥ã®ã‚¤ãƒ¡ãƒ¼ã‚¸)
    WebPackã€Browserify ... å˜ä¸€(åˆã¯è¤‡æ•°)ã®åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åãå‡ºã—ã€å®Ÿè¡Œæ™‚ã«ãã‚Œã‚’èª­ã‚€ã€‚ 

    nodejs ... js Ã—CommonJS
    Browserify ... js Ã—CommonJS Ã—web
    Webpack ... js Ã—CommonJSã€AMD ã¨ã‹Htmlã¨ã‹CSSã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã‚‚è¾¼ã¿

å‚è€ƒ
http://viget.com/extend/gulp-browserify-starter-faq

CommonJSã§éŠã¼ã†

commonjsã®å®Ÿè¡Œç’°å¢ƒnodejs
webç”¨ã«bundleã™ã‚‹
sourcemapã™ã‚‹
  exorcist

ã¾ãšnpmã«ã¤ã„ã¦
node package manager

nodeã§åˆ©ç”¨ã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç®¡ç†ã™ã‚‹ã€‚
npm install package 

ã¾ãšnodejsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€CommonJSã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã‚’å­¦ã¶ã€‚

Webã§ä½¿ãˆã‚‹ã‚ˆã†ã«browserifyã‚’ä½¿ã†

npm init(å¯¾è©±å‹ã§packagejsonã‚’ä½œæˆã™ã‚‹)
npm install browserify --save-dev
ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®apiã‚‚ä»Šå›ã¯ä½¿ç”¨ã™ã‚‹ã®ã§
npm install browserify -g

--save-devã§devdependenciesã«è‡ªå‹•çš„ã«è¿½åŠ ã—ã¦ãã‚Œã‚‹
--saveã ã¨dependencies

devDependencies => é–‹ç™ºæ™‚ã®ã¿ã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é¡(ãƒ†ã‚¹ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ã€gruntã‚„gulpã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç­‰)
dependencies => å®Ÿè¡Œã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é¡

ã•ã£ãä½œã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’bundleåŒ–ã™ã‚‹
browserify ~~

browserifyã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è§£æ±º

./ã¾ãŸã¯../ã¯ç›¸å¯¾ãƒ‘ã‚¹ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ¢ã™

åå‰ã ã‘ã ã¨node_module/åå‰/ä»¥ä¸‹ã®package.jsonã‚’å‚ç…§ã—ã€
mainå±æ€§ã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã™ã‚‹

require('xyz');

ã§

/node_modules/xyz/

ãŒå­˜åœ¨ã™ã‚‹å ´åˆ

/node_modules/xyz/package.json

ã®ä¸­èº«ã‚’è¦‹ã‚‹
{
  "name": "xyz",
  "version": "1.2.3",
  "main": "lib/abc.js"
}

ã“ã®å ´åˆã€mainã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã®ã¯"lib/abc.js"ãªã®ã§

/node_modules/xyz/lib/abc.js
ãŒ
require('xyz')
ã§å–å¾—ã§ãã‚‹

ã‚‚ã—package.jsonãŒãªã„ã€mainãŒæœªå®šç¾©ãªã©ã€mainãŒå–å¾—ã§ããªã„å ´åˆã¯
/xyz/index.jsãŒåˆ©ç”¨ã•ã‚Œã‚‹


ã‚‚ã—ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãŸã„å ´åˆ

var clone = require('dat/lib/clone.js');
ã®ã‚ˆã†ã«ã™ã‚‹ã€‚(ã“ã‚Œã€ç›¸å¯¾ãƒ‘ã‚¹ã˜ã‚ƒãªã„ã‹ã‚‰æ³¨æ„ã­)

ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯Windowã ã‚ˆ

browserifyã®ç‰¹æ®Šãªpackage.json
browserå±æ€§
ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å®Ÿè¡Œæ™‚ã«å‚ç…§ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚

mainå±æ€§ã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã®ã¯nodeã§ã®å®Ÿè¡Œæ™‚ã ãŒã€
browserå±æ€§ã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã®ã¯browserå®Ÿè¡Œæ™‚

ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ã§è¨­å®šã™ã‚‹ã¨ä¾‹ãˆã°ã€

"lib/foo.js":"lib/browser-foo.js"

ã“ã‚Œã¯requrie('lib/foo.js')ã§æŒ‡å®šã•ã‚ŒãŸæ™‚ã«ã‹ã‚ã‚Šã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

"fs":"level-fs-browser"

fsã¨ã¨æŒ‡å®šã—ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å

"winston" : false
ç„¡è¦–ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å

browserify.transform field

è‡ªå‹•çš„ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒ‡å®šã™ã‚‹

  "browserify": {
    "transform": [ "brfs" ]
  }



=============================================
node.jsã®ã‚¹ãƒˆãƒªãƒ¼ãƒ 

èª­ã¿è¾¼ã¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨æ›¸ãè¾¼ã¿ã‚¹ãƒˆãƒªãƒ¼ãƒ 

ReadableStream.pipe(Writablestream).pipe(Writablestream); => èª­ã¿è¾¼ã¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’è¿”ã™
èª­ã¿è¾¼ã¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æ›¸ãè¾¼ã¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«æµã™

gulpã¯vinylã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ã‚„ã‚Šã¨ã‚Šã™ã‚‹
gulpã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯vinylã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§æ‰±ã‚ã‚Œã‚‹ã€‚

browserifyã‚’åˆ©ç”¨ã™ã‚‹æ™‚ã¯gulp-broserifyã¯éæ¨å¥¨ãªã®ã§ã€
ç›´æ¥browserifyã®apiã‚’åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŒã€
browserifyã¯vinylã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æ‰±ã‚ãªã„ã®ã§ã€
gulpã«å¼•ãç¶™ãã¨ãã¯ä¸€åº¦vinylã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å¤‰æ›ã™ã‚‹(WriteStream)ã‚’æŒŸã‚€å¿…è¦ãŒã‚ã‚‹

var gulp = require('gulp');
var gutil = require('gulp-util');
var source = require('vinyl-source-stream');
var watchify = require('watchify');
var browserify = require('browserify');

gulp.task('watch', function() {
  var bundler = watchify(browserify('src/index.js', watchify.args));

  // Optionally, you can apply transforms
  // and other configuration options on the
  // bundler just as you would with browserify
  bundler.transform('brfs');

  bundler.on('update', rebundle);

  function rebundle() {
    return bundler.bundle()
      // log errors if they happen
      .on('error', gutil.log.bind(gutil, 'Browserify Error'))
     //####################ã“ã“ã§ã€bundle.jsã‚’vinylã®WriteStreamã«ã™ã‚‹
      .pipe(source('bundle.js'))
      //ã™ã‚‹ã¨ã€pipeã§ã¤ãªã„ã§gulp.destã«æ¸¡ã™ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆ
      .pipe(gulp.dest('./dist'));
  }

  return rebundle();
});
=====èª¬æ˜ã®æµã‚Œ
 ä»Šã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®å…¨ä½“åƒ
 ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯
 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã¨ã¯
  CommonJSã¨ã¯
  nodejsã¨ã¯
  npmã¨ã¯
    scripts npm ~ ã«å¯¾å¿œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°

=====ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æµã‚Œ
ï¼‘ï¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
  nodeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ
  mkdir gulp-start
  git init
  npm init
    ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸JSONã®ç°¡å˜ãªèª¬æ˜
  ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ
    mkdir app\scripts
    main.jsã‚’ä½œæˆã—ã¦ã€console.log("Hello World");
    foo.jsã‚’ä½œæˆã—ã¦CommonJSã‚’çŸ¥ã‚‹
  cliã®gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  npm install gulp -g
  ãƒ­ãƒ¼ã‚«ãƒ«ã«gulpã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  npm install gulp --save-dev
    ã“ã“ã§devDependencyã¨Dependencyã®èª¬æ˜
  gulpã®HelloWorld
======gulpfile.js
var gulp = require('gulp');

gulp.task('default', function() {
    console.log('Hello World!!!');
});
======


ï¼’ï¼å®Ÿéš›ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹
  ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
  google-webstarter-kitã®æ§‹æˆã‚’å‚è€ƒã«ã™ã‚‹
  ROOT/app/scripts
  ROOT/app/styles
  ROOT/app/fonts
  ROOT/app/images
  ROOT/app/dist
  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã«
  .gitignore
  .jshintrc
  gulpfile.js
  package.json
  distä»¥ä¸‹ãŒæˆæœç‰©
  appä»¥ä¸‹ãŒã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
  app/main.jsã‚’ä½œæˆ
  app/index.htmlã‚’ä½œæˆ
  gulpfile.jsã‚’ä½œæˆ
  åœ§ç¸®ã™ã‚‹ãŸã‚ã«
  ã¾ãšã€scriptsä»¥ä¸‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’åœ§ç¸®ã—ã¦dist/scriptsä»¥ä¸‹ã«ç§»å‹•

